(this["webpackJsonprestcountries-navigator"]=this["webpackJsonprestcountries-navigator"]||[]).push([[0],{23:function(e,t,a){e.exports=a(34)},33:function(e,t,a){},34:function(e,t,a){"use strict";a.r(t);var n=a(0),l=a.n(n),r=a(20),c=a.n(r),o=a(4),u=a(8),i=a(9),s=a(11),m=a(10),h=a(14),p=a(12),E=a(6);var d=function(){return l.a.createElement("div",{className:"message"},l.a.createElement("h1",null,"Connection error!"),l.a.createElement("h2",null,"A connection to the Restcountries.eu API could not be established."))};var g=function(e){return l.a.createElement("table",null,l.a.createElement("thead",null,l.a.createElement("tr",null,l.a.createElement("th",{colSpan:"2"},"Geography"))),l.a.createElement("tbody",null,l.a.createElement("tr",null,l.a.createElement("th",null,"Region"),l.a.createElement("td",null,e.region||"N/A")),l.a.createElement("tr",null,l.a.createElement("th",null,"Subregion"),l.a.createElement("td",null,e.subregion||"N/A")),l.a.createElement("tr",null,l.a.createElement("th",null,"Capital"),l.a.createElement("td",null,e.capital||"N/A")),l.a.createElement("tr",null,l.a.createElement("th",null,"Population"),l.a.createElement("td",null,e.population?e.population.toLocaleString("en-US"):0)),l.a.createElement("tr",null,l.a.createElement("th",null,"Area"),l.a.createElement("td",null,e.area?l.a.createElement("span",null,e.area.toLocaleString("en-US")," km",l.a.createElement("sup",null,"2")):"N/A")),l.a.createElement("tr",null,l.a.createElement("th",null,"Bordering Countries"),l.a.createElement("td",null,e.borders.length?e.borders.map((function(e,t,a){return l.a.createElement("span",{key:e},l.a.createElement(o.b,{to:"/".concat(e)},l.a.createElement("span",null,e,t+1!==a.length?", ":"")))})):"N/A"))))};var v=function(e){return l.a.createElement("table",null,l.a.createElement("thead",null,l.a.createElement("tr",null,l.a.createElement("th",{colSpan:"2"},"Names"))),l.a.createElement("tbody",null,l.a.createElement("tr",null,l.a.createElement("th",null,"Name"),l.a.createElement("td",null,e.name||"N/A")),l.a.createElement("tr",null,l.a.createElement("th",null,"Native Name"),l.a.createElement("td",null,e.nativeName||"N/A")),l.a.createElement("tr",null,l.a.createElement("th",null,"Alternate Spellings"),l.a.createElement("td",null,e.altSpellings.join(", ")||"N/A")),l.a.createElement("tr",null,l.a.createElement("th",null,"Languages"),l.a.createElement("td",null,e.languages.map((function(e){return e.name})).join(", ")||"N/A")),l.a.createElement("tr",null,l.a.createElement("th",null,"Demonym"),l.a.createElement("td",null,e.demonym||"N/A")),l.a.createElement("tr",null,l.a.createElement("th",null,"Top Level Domain (TLD)"),l.a.createElement("td",null,e.topLevelDomain.join(", ")||"N/A"))))};var f=function(){var e=Object(E.f)();return l.a.createElement("div",{className:"message"},l.a.createElement("h2",null,"No resource found for ",e.pathname))};var b=function(){return l.a.createElement("div",{className:"message"},l.a.createElement("h1",null,"Loading..."))},y=function(e){function t(e){var a;return Object(u.a)(this,t),(a=Object(s.a)(this,Object(m.a)(t).call(this,e))).state={isLoading:!0,countryIsFound:!1,country:[]},a}return Object(p.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){var e=this.props.match.params.alpha3Code;this.getCountryData(e)}},{key:"componentDidUpdate",value:function(e){var t=this.props.match.params.alpha3Code;t!==e.match.params.alpha3Code&&(this.setState({isLoading:!0}),this.getCountryData(t))}},{key:"getCountryData",value:function(e){var t=this.props.countriesData.find((function(t){return t.alpha3Code===e}));t?this.setState({isLoading:!1,country:t,countryIsFound:!0}):this.setState({isLoading:!1,countryIsFound:!1})}},{key:"render",value:function(){return this.state.isLoading?l.a.createElement(b,null):this.state.isLoading||this.state.countryIsFound?l.a.createElement("div",{className:"country-detail"},l.a.createElement("h1",null,this.state.country.name),l.a.createElement("div",{className:"country-detail-container"},l.a.createElement("div",{className:"country-detail-flag"},l.a.createElement("img",{src:this.state.country.flag,alt:"Flag of ".concat(this.state.country.name),title:"Flag of ".concat(this.state.country.name)})),l.a.createElement(v,{name:this.state.country.name,nativeName:this.state.country.nativeName,altSpellings:this.state.country.altSpellings,languages:this.state.country.languages,demonym:this.state.country.demonym,topLevelDomain:this.state.country.topLevelDomain}),l.a.createElement(g,{region:this.state.country.region,subregion:this.state.country.subregion,capital:this.state.country.capital,population:this.state.country.population,area:this.state.country.area,borders:this.state.country.borders}))):l.a.createElement(f,null)}}]),t}(l.a.Component);var N=function(e){var t="Flag of ".concat(e.name);return l.a.createElement("li",{className:"country-list-item"},l.a.createElement("img",{src:e.flag,alt:t,title:t}),l.a.createElement("div",{className:"country-info"},l.a.createElement(o.b,{to:"/".concat(e.alpha3Code)},l.a.createElement("h3",null,e.name)),l.a.createElement("p",{className:"native-name"},"(",e.nativeName,")"),l.a.createElement("p",null,"Population: ",e.population.toLocaleString("en-US"))))};var C=function(e){var t=e.countriesData.map((function(e){return l.a.createElement(N,{key:e.alpha3Code,name:e.name,nativeName:e.nativeName,flag:e.flag,population:e.population,alpha3Code:e.alpha3Code})}));return l.a.createElement("ul",{className:"country-list"},t)};var S=function(e){return l.a.createElement("form",{onSubmit:e.handleSubmit},l.a.createElement("input",{name:"searchQuery",type:"search",placeholder:"Search ...",required:!0}),l.a.createElement("button",null,"Submit"))};var D=function(e){return l.a.createElement("select",{name:"sortOrder",value:e.sortOrder,onChange:e.handleChange},l.a.createElement("option",{value:""},"Sort Order"),l.a.createElement("option",{value:"alpha"},"A-Z"),l.a.createElement("option",{value:"alphaReverse"},"Z-A"),l.a.createElement("option",{value:"pop"},"Population \u21e7"),l.a.createElement("option",{value:"popReverse"},"Population \u21e9"))};var O=function(e){return l.a.createElement("nav",{className:"navbar"},l.a.createElement("ul",null,l.a.createElement("li",{className:"title"},l.a.createElement(o.b,{to:"/"},l.a.createElement("h1",null,"Home"))),l.a.createElement("li",{className:"search"},l.a.createElement(S,{handleSubmit:e.handleSubmit})),l.a.createElement("li",{className:"sort-order"},l.a.createElement(D,{handleChange:e.handleChange}))))},j=function(e){function t(){var e;return Object(u.a)(this,t),(e=Object(s.a)(this,Object(m.a)(t).call(this))).state={isLoading:!0,fetchSuccess:!1,countriesData:[],sortOrder:""},e.handleChange=e.handleChange.bind(Object(h.a)(e)),e.handleSubmit=e.handleSubmit.bind(Object(h.a)(e)),e}return Object(p.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){var e=this;fetch("https://restcountries.eu/rest/v2/all").then((function(e){if(!e.ok)throw Error(e.text);return e})).then((function(e){return e.json()})).then((function(t){return e.setState({isLoading:!1,fetchSuccess:!0,countriesData:t})})).catch((function(t){console.error(t),e.setState({isLoading:!1,fetchSuccess:!1})}))}},{key:"handleChange",value:function(e){var t=e.target.value;this.setState({sortOrder:t,countriesData:this.sortCountriesData(t)})}},{key:"handleSubmit",value:function(e){e.preventDefault();var t=e.target.elements.searchQuery.value.toLowerCase(),a=this.state.countriesData.find((function(e){return e.name.toLowerCase()===t||e.nativeName.toLowerCase()===t||e.altSpellings.some((function(e){return e.toLowerCase()===t}))}));a?this.props.history.push("/".concat(a.alpha3Code)):alert("No country found matching query."),e.target.reset(),e.target.firstChild.blur()}},{key:"sortCountriesData",value:function(e){var t=this.state.countriesData;switch(e){case"alpha":t.sort((function(e,t){return e.name.localeCompare(t.name)}));break;case"alphaReverse":t.sort((function(e,t){return t.name.localeCompare(e.name)}));break;case"pop":t.sort((function(e,t){return e.population-t.population}));break;case"popReverse":t.sort((function(e,t){return t.population-e.population}));break;default:return t}return t}},{key:"render",value:function(){var e=this;return this.state.isLoading?l.a.createElement(b,null):this.state.fetchSuccess?l.a.createElement(l.a.Fragment,null,l.a.createElement(O,{handleSubmit:this.handleSubmit,handleChange:this.handleChange}),l.a.createElement(E.c,null,l.a.createElement(E.a,{exact:!0,path:"/"},l.a.createElement(C,{countriesData:this.state.countriesData})),l.a.createElement(E.a,{exact:!0,path:"/:alpha3Code",render:function(t){return l.a.createElement(y,Object.assign({countriesData:e.state.countriesData},t))}}),l.a.createElement(E.a,null,l.a.createElement(f,null)))):l.a.createElement(d,null)}}]),t}(l.a.Component),L=Object(E.g)(j),k=function(e){function t(){return Object(u.a)(this,t),Object(s.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(i.a)(t,[{key:"componentDidUpdate",value:function(e){this.props.location.pathname!==e.location.pathname&&window.scrollTo(0,0)}},{key:"render",value:function(){return null}}]),t}(l.a.Component),A=Object(E.g)(k);a(33);c.a.render(l.a.createElement(o.a,{basename:"/restcountries-navigator"},l.a.createElement(A,null),l.a.createElement(L,null)),document.getElementById("root"))}},[[23,1,2]]]);
//# sourceMappingURL=main.735be063.chunk.js.map