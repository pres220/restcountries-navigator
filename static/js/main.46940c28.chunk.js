(this["webpackJsonprestcountries-navigator"]=this["webpackJsonprestcountries-navigator"]||[]).push([[0],{35:function(e,t,n){},36:function(e,t,n){"use strict";n.r(t);var a=n(1),r=n.n(a),c=n(22),s=n.n(c),i=n(6),o=n(15),l=n(24),h=n(9),j=n(10),u=n(14),d=n(12),b=n(11),O=n(2),p=n(0);var x=function(){return Object(p.jsxs)("div",{className:"message",children:[Object(p.jsx)("h1",{children:"Connection error!"}),Object(p.jsx)("h2",{children:"A connection to the Restcountries.eu API could not be established."})]})};var m=function(e){return Object(p.jsxs)("table",{children:[Object(p.jsx)("thead",{children:Object(p.jsx)("tr",{children:Object(p.jsx)("th",{colSpan:"2",children:"Geography"})})}),Object(p.jsxs)("tbody",{children:[Object(p.jsxs)("tr",{children:[Object(p.jsx)("th",{children:"Region"}),Object(p.jsx)("td",{children:e.region||"N/A"})]}),Object(p.jsxs)("tr",{children:[Object(p.jsx)("th",{children:"Subregion"}),Object(p.jsx)("td",{children:e.subregion||"N/A"})]}),Object(p.jsxs)("tr",{children:[Object(p.jsx)("th",{children:"Capital"}),Object(p.jsx)("td",{children:e.capital||"N/A"})]}),Object(p.jsxs)("tr",{children:[Object(p.jsx)("th",{children:"Population"}),Object(p.jsx)("td",{children:e.population?e.population.toLocaleString("en-US"):0})]}),Object(p.jsxs)("tr",{children:[Object(p.jsx)("th",{children:"Area"}),Object(p.jsx)("td",{children:e.area?Object(p.jsxs)("span",{children:[e.area.toLocaleString("en-US")," km",Object(p.jsx)("sup",{children:"2"})]}):"N/A"})]}),Object(p.jsxs)("tr",{children:[Object(p.jsx)("th",{children:"Bordering Countries"}),Object(p.jsx)("td",{children:e.borders.length?e.borders.map((function(e,t,n){return Object(p.jsx)("span",{children:Object(p.jsx)(i.b,{to:"/".concat(e),children:Object(p.jsxs)("span",{children:[e,t+1!==n.length?", ":""]})})},e)})):"N/A"})]})]})]})};var g=function(e){return Object(p.jsxs)("table",{children:[Object(p.jsx)("thead",{children:Object(p.jsx)("tr",{children:Object(p.jsx)("th",{colSpan:"2",children:"Names"})})}),Object(p.jsxs)("tbody",{children:[Object(p.jsxs)("tr",{children:[Object(p.jsx)("th",{children:"Name"}),Object(p.jsx)("td",{children:e.name||"N/A"})]}),Object(p.jsxs)("tr",{children:[Object(p.jsx)("th",{children:"Native Name"}),Object(p.jsx)("td",{children:e.nativeName||"N/A"})]}),Object(p.jsxs)("tr",{children:[Object(p.jsx)("th",{children:"Alternate Spellings"}),Object(p.jsx)("td",{children:e.altSpellings.join(", ")||"N/A"})]}),Object(p.jsxs)("tr",{children:[Object(p.jsx)("th",{children:"Languages"}),Object(p.jsx)("td",{children:e.languages.map((function(e){return e.name})).join(", ")||"N/A"})]}),Object(p.jsxs)("tr",{children:[Object(p.jsx)("th",{children:"Demonym"}),Object(p.jsx)("td",{children:e.demonym||"N/A"})]}),Object(p.jsxs)("tr",{children:[Object(p.jsx)("th",{children:"Top Level Domain (TLD)"}),Object(p.jsx)("td",{children:e.topLevelDomain.join(", ")||"N/A"})]})]})]})};var v=function(){var e=Object(O.f)();return Object(p.jsx)("div",{className:"message",children:Object(p.jsxs)("h2",{children:["No resource found for ",e.pathname]})})};var f=function(){return Object(p.jsx)("div",{className:"message",children:Object(p.jsx)("h1",{children:"Loading..."})})},y=function(e){Object(d.a)(n,e);var t=Object(b.a)(n);function n(e){var a;return Object(h.a)(this,n),(a=t.call(this,e)).state={isLoading:!0,countryIsFound:!1,country:[]},a}return Object(j.a)(n,[{key:"componentDidMount",value:function(){var e=this.props.match.params.alpha3Code;this.getCountryData(e)}},{key:"componentDidUpdate",value:function(e){var t=this.props.match.params.alpha3Code;t!==e.match.params.alpha3Code&&(this.setState({isLoading:!0}),this.getCountryData(t))}},{key:"getCountryData",value:function(e){var t=this.props.countriesData.find((function(t){return t.alpha3Code===e}));t?this.setState({isLoading:!1,country:t,countryIsFound:!0}):this.setState({isLoading:!1,countryIsFound:!1})}},{key:"render",value:function(){return this.state.isLoading?Object(p.jsx)(f,{}):this.state.isLoading||this.state.countryIsFound?Object(p.jsxs)("div",{className:"country-detail",children:[Object(p.jsx)("h1",{children:this.state.country.name}),Object(p.jsxs)("div",{className:"country-detail-container",children:[Object(p.jsx)("div",{className:"country-detail-flag",children:Object(p.jsx)("img",{src:this.state.country.flag,alt:"Flag of ".concat(this.state.country.name),title:"Flag of ".concat(this.state.country.name)})}),Object(p.jsx)(g,{name:this.state.country.name,nativeName:this.state.country.nativeName,altSpellings:this.state.country.altSpellings,languages:this.state.country.languages,demonym:this.state.country.demonym,topLevelDomain:this.state.country.topLevelDomain}),Object(p.jsx)(m,{region:this.state.country.region,subregion:this.state.country.subregion,capital:this.state.country.capital,population:this.state.country.population,area:this.state.country.area,borders:this.state.country.borders})]})]}):Object(p.jsx)(v,{})}}]),n}(r.a.Component);var S=function(e){var t="Flag of ".concat(e.name);return Object(p.jsxs)("li",{className:"country-list-item",children:[Object(p.jsx)("img",{src:e.flag,alt:t,title:t}),Object(p.jsxs)("div",{className:"country-info",children:[Object(p.jsx)(i.b,{to:"/".concat(e.alpha3Code),children:Object(p.jsx)("h3",{children:e.name})}),Object(p.jsxs)("p",{className:"native-name",children:["(",e.nativeName,")"]}),Object(p.jsxs)("p",{children:["Population: ",e.population.toLocaleString("en-US")]})]})]})};var C=function(e){var t=e.countriesData.map((function(e){return Object(p.jsx)(S,{name:e.name,nativeName:e.nativeName,flag:e.flag,population:e.population,alpha3Code:e.alpha3Code},e.alpha3Code)}));return Object(p.jsx)("ul",{className:"country-list",children:t})};var N=function(e){return Object(p.jsxs)("form",{onSubmit:e.handleSearchQuerySubmit,children:[Object(p.jsx)("input",{name:"searchQuery",type:"search",placeholder:"Search ...",required:!0}),Object(p.jsx)("button",{children:"Submit"})]})};var D=function(e){return Object(p.jsxs)("select",{name:"sortOrder",value:e.sortOrder,onChange:e.handleSortOrderChange,children:[Object(p.jsx)("option",{value:"",children:"Sort Order"}),Object(p.jsx)("option",{value:"alpha",children:"A-Z"}),Object(p.jsx)("option",{value:"alphaReverse",children:"Z-A"}),Object(p.jsx)("option",{value:"pop",children:"Population \u21e7"}),Object(p.jsx)("option",{value:"popReverse",children:"Population \u21e9"})]})};var L=function(e){var t="/:alpha3Code"===e.match.path?"detail-page":"";return Object(p.jsx)("nav",{className:"navbar",children:Object(p.jsxs)("ul",{children:[Object(p.jsx)("li",{className:"title",children:Object(p.jsx)(i.b,{to:"/",children:Object(p.jsx)("h1",{children:"Home"})})}),Object(p.jsx)("li",{className:"search",children:Object(p.jsx)(N,{handleSearchQuerySubmit:e.handleSearchQuerySubmit})}),Object(p.jsx)("li",{className:"sort-order ".concat(t),children:Object(p.jsx)(D,{handleSortOrderChange:e.handleSortOrderChange})})]})})},k=function(e){Object(d.a)(n,e);var t=Object(b.a)(n);function n(){var e;return Object(h.a)(this,n),(e=t.call(this)).state={isLoading:!0,fetchSuccess:!1,countriesData:[],sortOrder:""},e.handleSortOrderChange=e.handleSortOrderChange.bind(Object(u.a)(e)),e.handleSearchQuerySubmit=e.handleSearchQuerySubmit.bind(Object(u.a)(e)),e}return Object(j.a)(n,[{key:"componentDidMount",value:function(){var e=this;fetch("https://restcountries.eu/rest/v2/all").then((function(e){if(!e.ok)throw Error(e.text);return e})).then((function(e){return e.json()})).then((function(t){return e.setState({isLoading:!1,fetchSuccess:!0,countriesData:t})})).catch((function(t){console.error(t),e.setState({isLoading:!1,fetchSuccess:!1})}))}},{key:"handleSortOrderChange",value:function(e){var t=this,n=e.target.value;this.setState((function(e){return{sortOrder:n,countriesData:t.sortCountriesData(n,Object(l.a)(e.countriesData))}}))}},{key:"handleSearchQuerySubmit",value:function(e){e.preventDefault();var t=e.target.elements.searchQuery.value.toLowerCase(),n=this.state.countriesData.find((function(e){return e.name.toLowerCase()===t||e.nativeName.toLowerCase()===t||e.altSpellings.some((function(e){return e.toLowerCase()===t}))}));n?this.props.history.push("/".concat(n.alpha3Code)):alert("No country found matching query."),e.target.reset(),e.target.firstChild.blur()}},{key:"sortCountriesData",value:function(e,t){switch(e){case"alpha":t.sort((function(e,t){return e.name.localeCompare(t.name)}));break;case"alphaReverse":t.sort((function(e,t){return t.name.localeCompare(e.name)}));break;case"pop":t.sort((function(e,t){return e.population-t.population}));break;case"popReverse":t.sort((function(e,t){return t.population-e.population}));break;default:return t}return t}},{key:"render",value:function(){var e=this;return this.state.isLoading?Object(p.jsx)(f,{}):this.state.fetchSuccess?Object(p.jsx)(r.a.Fragment,{children:Object(p.jsxs)(O.c,{children:[Object(p.jsx)(O.a,{exact:!0,path:"/",render:function(t){return Object(p.jsxs)(r.a.Fragment,{children:[Object(p.jsx)(L,Object(o.a)({handleSearchQuerySubmit:e.handleSearchQuerySubmit,handleSortOrderChange:e.handleSortOrderChange},t)),Object(p.jsx)(C,{countriesData:e.state.countriesData})]})}}),Object(p.jsx)(O.a,{exact:!0,path:"/:alpha3Code",render:function(t){return Object(p.jsxs)(r.a.Fragment,{children:[Object(p.jsx)(L,Object(o.a)({handleSearchQuerySubmit:e.handleSearchQuerySubmit,handleSortOrderChange:e.handleSortOrderChange},t)),Object(p.jsx)(y,Object(o.a)({countriesData:e.state.countriesData},t))]})}}),Object(p.jsx)(O.a,{children:Object(p.jsx)(v,{})})]})}):Object(p.jsx)(x,{})}}]),n}(r.a.Component),A=Object(O.g)(k),Q=function(e){Object(d.a)(n,e);var t=Object(b.a)(n);function n(){return Object(h.a)(this,n),t.apply(this,arguments)}return Object(j.a)(n,[{key:"componentDidUpdate",value:function(e){this.props.location.pathname!==e.location.pathname&&window.scrollTo(0,0)}},{key:"render",value:function(){return null}}]),n}(r.a.Component),w=Object(O.g)(Q);n(35);s.a.render(Object(p.jsxs)(i.a,{basename:"/restcountries-navigator",children:[Object(p.jsx)(w,{}),Object(p.jsx)(A,{})]}),document.getElementById("root"))}},[[36,1,2]]]);
//# sourceMappingURL=main.46940c28.chunk.js.map