(this["webpackJsonprestcountries-navigator"]=this["webpackJsonprestcountries-navigator"]||[]).push([[0],{23:function(e,t,a){e.exports=a(34)},33:function(e,t,a){},34:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),l=a(20),o=a.n(l),c=a(4),u=a(8),i=a(9),s=a(11),m=a(10),h=a(14),d=a(12),p=a(6);var E=function(e){return r.a.createElement("header",null,r.a.createElement(c.b,{to:"/restcountries-navigator"},r.a.createElement("h1",null,"Home")),e.children)};var g=function(e){return r.a.createElement("div",{className:"search"},r.a.createElement("form",{onSubmit:e.handleSubmit},r.a.createElement("input",{name:"searchQuery",type:"text",placeholder:"Enter Country ...",required:!0}),r.a.createElement("button",{className:"search-button"},"Submit Query")))};var y=function(e){var t=Object(p.f)();return r.a.createElement(r.a.Fragment,null,e.showHeader?r.a.createElement(E,null,r.a.createElement(g,{handleSubmit:e.handleSubmit})):null,r.a.createElement("h2",{className:"not-found"},"No resource found for ",t.pathname))};var v=function(e){return r.a.createElement("select",{name:"sortOrder",value:e.sortOrder,onChange:e.handleChange},r.a.createElement("option",{value:""},"Sort Order"),r.a.createElement("option",{value:"alpha"},"A-Z"),r.a.createElement("option",{value:"alphaReverse"},"Z-A"),r.a.createElement("option",{value:"pop"},"Population \u21e7"),r.a.createElement("option",{value:"popReverse"},"Population \u21e9"))};var f=function(e){var t="Flag of ".concat(e.name),a=e.population.toLocaleString("en-US");return r.a.createElement("li",{className:"country-list-item"},r.a.createElement("img",{src:e.flag,alt:t,title:t}),r.a.createElement("div",{className:"country-info"},r.a.createElement(c.b,{to:"/restcountries-navigator/countries/".concat(e.alpha3Code)},r.a.createElement("h3",null,e.name)),r.a.createElement("p",{className:"native-name"},"(",e.nativeName,")"),r.a.createElement("p",null,"Population: ",a)))};var b=function(e){var t=e.countryData.map((function(e){return r.a.createElement(f,{key:e.alpha3Code,name:e.name,nativeName:e.nativeName,flag:e.flag,population:e.population,alpha3Code:e.alpha3Code})}));return r.a.createElement("ul",{className:"country-list"},t)};var S=function(e){return r.a.createElement(r.a.Fragment,null,r.a.createElement(E,null,r.a.createElement(g,{handleSubmit:e.handleSubmit}),r.a.createElement(v,{sortOrder:e.sortOrder,handleChange:e.handleChange})),r.a.createElement(b,{countryData:e.countryData}))};var C=function(e){return r.a.createElement("table",null,r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",{colSpan:"2"},"Names"))),r.a.createElement("tbody",null,r.a.createElement("tr",null,r.a.createElement("th",null,"Name"),r.a.createElement("td",null,e.name||"N/A")),r.a.createElement("tr",null,r.a.createElement("th",null,"Native Name"),r.a.createElement("td",null,e.nativeName||"N/A")),r.a.createElement("tr",null,r.a.createElement("th",null,"Alternate Spellings"),r.a.createElement("td",null,e.altSpellings.join(", ")||"N/A")),r.a.createElement("tr",null,r.a.createElement("th",null,"Languages"),r.a.createElement("td",null,e.languages.map((function(e){return e.name})).join(", ")||"N/A")),r.a.createElement("tr",null,r.a.createElement("th",null,"Demonym"),r.a.createElement("td",null,e.demonym||"N/A")),r.a.createElement("tr",null,r.a.createElement("th",null,"Top Level Domain (TLD)"),r.a.createElement("td",null,e.topLevelDomain.join(", ")||"N/A"))))};var N=function(e){return r.a.createElement("table",null,r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",{colSpan:"2"},"Geography"))),r.a.createElement("tbody",null,r.a.createElement("tr",null,r.a.createElement("th",null,"Region"),r.a.createElement("td",null,e.region||"N/A")),r.a.createElement("tr",null,r.a.createElement("th",null,"Subregion"),r.a.createElement("td",null,e.subregion||"N/A")),r.a.createElement("tr",null,r.a.createElement("th",null,"Capital"),r.a.createElement("td",null,e.capital||"N/A")),r.a.createElement("tr",null,r.a.createElement("th",null,"Population"),r.a.createElement("td",null,e.population?e.population.toLocaleString("en-US"):0)),r.a.createElement("tr",null,r.a.createElement("th",null,"Area"),r.a.createElement("td",null,e.area?r.a.createElement("span",null,e.area.toLocaleString("en-US")," km",r.a.createElement("sup",null,"2")):"N/A")),r.a.createElement("tr",null,r.a.createElement("th",null,"Bordering Countries"),r.a.createElement("td",null,e.borders.length?e.borders.map((function(e,t,a){return r.a.createElement("span",{key:e},r.a.createElement(c.b,{to:"/restcountries-navigator/countries/".concat(e)},r.a.createElement("span",null,e,t+1!==a.length?", ":"")))})):"N/A"))))},D=function(e){function t(e){var a;return Object(u.a)(this,t),(a=Object(s.a)(this,Object(m.a)(t).call(this,e))).state={isLoading:!0,countryIsFound:!1,country:[]},a}return Object(d.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){var e=this.props.match.params.alpha3Code;this.getCountryData(e)}},{key:"componentDidUpdate",value:function(e){var t=this.props.match.params.alpha3Code;t!==e.match.params.alpha3Code&&(this.setState({isLoading:!0}),this.getCountryData(t))}},{key:"getCountryData",value:function(e){var t=this.props.countryData.find((function(t){return t.alpha3Code===e}));t?this.setState({isLoading:!1,country:t,countryIsFound:!0}):this.setState({isLoading:!1,countryIsFound:!1})}},{key:"render",value:function(){return this.state.isLoading?r.a.createElement("h2",{className:"loading-msg"},"Loading..."):this.state.isLoading||this.state.countryIsFound?r.a.createElement("div",{className:"country-detail"},r.a.createElement("h1",null,this.state.country.name),r.a.createElement("div",{className:"country-detail-container"},r.a.createElement("div",{className:"country-detail-flag"},r.a.createElement("img",{src:this.state.country.flag,alt:"Flag of ".concat(this.state.country.name),title:"Flag of ".concat(this.state.country.name)})),r.a.createElement(C,{name:this.state.country.name,nativeName:this.state.country.nativeName,altSpellings:this.state.country.altSpellings,languages:this.state.country.languages,demonym:this.state.country.demonym,topLevelDomain:this.state.country.topLevelDomain}),r.a.createElement(N,{region:this.state.country.region,subregion:this.state.country.subregion,capital:this.state.country.capital,population:this.state.country.population,area:this.state.country.area,borders:this.state.country.borders}))):r.a.createElement(y,{showHeader:!1})}}]),t}(r.a.Component);var O=function(e){return r.a.createElement(r.a.Fragment,null,r.a.createElement(E,null,r.a.createElement(g,{handleSubmit:e.handleSubmit})),r.a.createElement(D,Object.assign({countryData:e.countryData},e)))},L=function(e){function t(){var e;return Object(u.a)(this,t),(e=Object(s.a)(this,Object(m.a)(t).call(this))).state={isLoading:!0,fetchSuccess:!1,countryData:[],sortOrder:""},e.handleChange=e.handleChange.bind(Object(h.a)(e)),e.handleSubmit=e.handleSubmit.bind(Object(h.a)(e)),e}return Object(d.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){var e=this;fetch("https://restcountries.eu/rest/v2/all").then((function(e){if(!e.ok)throw Error(e.text);return e})).then((function(e){return e.json()})).then((function(t){return e.setState({isLoading:!1,fetchSuccess:!0,countryData:t})})).catch((function(t){console.error(t),e.setState({isLoading:!1,fetchSuccess:!1})}))}},{key:"handleChange",value:function(e){var t=e.target.value;this.setState({sortOrder:t,countryData:this.sortCountryData(t)})}},{key:"handleSubmit",value:function(e){e.preventDefault();var t=e.target.elements.searchQuery.value.toLowerCase(),a=this.state.countryData.find((function(e){return e.name.toLowerCase()===t||e.nativeName.toLowerCase()===t||e.altSpellings.some((function(e){return e.toLowerCase()===t}))}));a?this.props.history.push("/restcountries-navigator/countries/".concat(a.alpha3Code)):(alert("No country found matching query."),e.target.reset())}},{key:"sortCountryData",value:function(e){var t=this.state.countryData;switch(e){case"alpha":t.sort((function(e,t){return e.name.localeCompare(t.name)}));break;case"alphaReverse":t.sort((function(e,t){return t.name.localeCompare(e.name)}));break;case"pop":t.sort((function(e,t){return e.population-t.population}));break;case"popReverse":t.sort((function(e,t){return t.population-e.population}));break;default:return t}return t}},{key:"render",value:function(){var e=this;return this.state.isLoading?r.a.createElement("h1",{className:"loading-msg"},"Loading..."):this.state.isLoading||this.state.fetchSuccess?r.a.createElement(r.a.Fragment,null,r.a.createElement(p.c,null,r.a.createElement(p.a,{exact:!0,path:"/restcountries-navigator"},r.a.createElement(S,{isLoading:this.state.isLoading,fetchSuccess:this.state.fetchSuccess,handleSubmit:this.handleSubmit,handleChange:this.handleChange,countryData:this.state.countryData,sortOrder:this.state.sortOrder})),r.a.createElement(p.a,{exact:!0,path:"/restcountries-navigator/countries/:alpha3Code",render:function(t){return r.a.createElement(O,Object.assign({handleSubmit:e.handleSubmit,countryData:e.state.countryData},t))}}),r.a.createElement(p.a,null,r.a.createElement(y,{showHeader:!0,handleSubmit:this.handleSubmit})))):r.a.createElement("div",null,r.a.createElement("h1",null,"Connection error!"),r.a.createElement("h2",null,"A connection to the Restcountries.eu API could not be established."))}}]),t}(r.a.Component),j=Object(p.g)(L),k=function(e){function t(){return Object(u.a)(this,t),Object(s.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(i.a)(t,[{key:"componentDidUpdate",value:function(e){this.props.location.pathname!==e.location.pathname&&window.scrollTo(0,0)}},{key:"render",value:function(){return null}}]),t}(r.a.Component),A=Object(p.g)(k);a(33);o.a.render(r.a.createElement(c.a,null,r.a.createElement(A,null),r.a.createElement(j,null)),document.getElementById("root"))}},[[23,1,2]]]);
//# sourceMappingURL=main.a8428593.chunk.js.map